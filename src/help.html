<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Help & Support</title>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
      /* Modern animations */
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .animate-in {
        animation: fadeInUp 0.5s ease-out forwards;
        opacity: 0;
      }

      .delay-1 { animation-delay: 0.1s; }
      .delay-2 { animation-delay: 0.2s; }
      .delay-3 { animation-delay: 0.3s; }
      .delay-4 { animation-delay: 0.4s; }

      /* Card styling */
      .help-card {
        transition: all 0.3s ease;
      }
      .help-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 12px 24px rgba(0, 0, 0, 0.1);
      }
      .dark .help-card:hover {
        box-shadow: 0 12px 24px rgba(0, 0, 0, 0.3);
      }

      /* FAQ accordion */
      .faq-item {
        transition: all 0.3s ease;
      }
      .faq-item:hover {
        background-color: rgba(60, 80, 224, 0.02);
      }
      .dark .faq-item:hover {
        background-color: rgba(60, 80, 224, 0.05);
      }
      .faq-answer {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease, padding 0.3s ease;
      }
      .faq-answer.open {
        max-height: 500px;
      }
      .faq-icon {
        transition: transform 0.3s ease;
      }
      .faq-icon.open {
        transform: rotate(180deg);
      }

      /* Input styling */
      .modern-input {
        transition: all 0.2s ease;
      }
      .modern-input:focus {
        box-shadow: 0 0 0 3px rgba(60, 80, 224, 0.1);
      }

      /* Button styling */
      .btn-primary {
        background: linear-gradient(135deg, #3C50E0 0%, #5B6FE8 100%);
        transition: all 0.3s ease;
      }
      .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 24px rgba(60, 80, 224, 0.35);
      }

      /* Quick action cards */
      .quick-action {
        transition: all 0.3s ease;
      }
      .quick-action:hover {
        transform: translateY(-2px);
        border-color: #3C50E0;
      }
      .quick-action:hover .action-icon {
        background-color: #3C50E0;
        color: white;
      }
      .action-icon {
        transition: all 0.3s ease;
      }
    </style>
  </head>

  <body
    x-data="{ page: 'help', 'loaded': true, 'darkMode': true, 'stickyMenu': false, 'sidebarToggle': false, 'scrollTop': false }"
    x-init="
      darkMode = JSON.parse(localStorage.getItem('darkMode'));
      $watch('darkMode', value => localStorage.setItem('darkMode', JSON.stringify(value)))"
    :class="{'dark text-bodydark bg-boxdark-2': darkMode === true}"
  >
    <!-- ===== Preloader Start ===== -->
    <include src="./partials/preloader.html"></include>
    <!-- ===== Preloader End ===== -->

    <!-- ===== Page Wrapper Start ===== -->
    <div class="flex h-screen overflow-hidden">
      <!-- ===== Sidebar Start ===== -->
      <include src="./partials/sidebar.html"></include>
      <!-- ===== Sidebar End ===== -->

      <!-- ===== Content Area Start ===== -->
      <div class="relative flex flex-1 flex-col overflow-y-auto overflow-x-hidden">
        <!-- ===== Header Start ===== -->
        <include src="./partials/header.html" />
        <!-- ===== Header End ===== -->

        <!-- ===== Main Content Start ===== -->
        <main>
          <div class="mx-auto max-w-screen-2xl p-4 md:p-6 2xl:p-10">

            <!-- Page Header -->
            <div class="mb-8 animate-in">
              <h1 class="text-2xl font-bold text-black dark:text-white md:text-3xl">
                Help & Support
              </h1>
              <p class="mt-1 text-gray-500 dark:text-gray-400">
                Find answers or get in touch with our support team
              </p>
            </div>

            <!-- Quick Actions -->
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8">
              <a href="mailto:support@rentme.co" class="quick-action block rounded-2xl bg-white p-6 border border-gray-100 dark:bg-boxdark dark:border-strokedark animate-in delay-1">
                <div class="flex items-center gap-4">
                  <div class="action-icon flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10 text-primary">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                    </svg>
                  </div>
                  <div>
                    <h3 class="font-semibold text-black dark:text-white">Email Us</h3>
                    <p class="text-sm text-gray-500 dark:text-gray-400">support@rentme.co</p>
                  </div>
                </div>
              </a>

              <a href="#faq" class="quick-action block rounded-2xl bg-white p-6 border border-gray-100 dark:bg-boxdark dark:border-strokedark animate-in delay-2">
                <div class="flex items-center gap-4">
                  <div class="action-icon flex h-12 w-12 items-center justify-center rounded-xl bg-green-500/10 text-green-500">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                  </div>
                  <div>
                    <h3 class="font-semibold text-black dark:text-white">View FAQs</h3>
                    <p class="text-sm text-gray-500 dark:text-gray-400">Quick answers</p>
                  </div>
                </div>
              </a>

              <a href="#contact" class="quick-action block rounded-2xl bg-white p-6 border border-gray-100 dark:bg-boxdark dark:border-strokedark animate-in delay-3">
                <div class="flex items-center gap-4">
                  <div class="action-icon flex h-12 w-12 items-center justify-center rounded-xl bg-purple-500/10 text-purple-500">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                    </svg>
                  </div>
                  <div>
                    <h3 class="font-semibold text-black dark:text-white">Send Message</h3>
                    <p class="text-sm text-gray-500 dark:text-gray-400">We'll respond quickly</p>
                  </div>
                </div>
              </a>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
              <!-- FAQ Section -->
              <div id="faq" class="rounded-2xl bg-white shadow-sm border border-gray-100 dark:bg-boxdark dark:border-strokedark animate-in delay-3">
                <div class="p-6 border-b border-gray-100 dark:border-strokedark">
                  <h2 class="text-lg font-semibold text-black dark:text-white">Frequently Asked Questions</h2>
                </div>
                <div class="divide-y divide-gray-100 dark:divide-strokedark">
                  <!-- FAQ Item 1 -->
                  <div class="faq-item">
                    <button onclick="toggleFaq(this)" class="w-full px-6 py-4 flex items-center justify-between text-left">
                      <span class="font-medium text-black dark:text-white">How do I add a new listing?</span>
                      <svg class="faq-icon w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                      </svg>
                    </button>
                    <div class="faq-answer px-6 pb-4 text-gray-600 dark:text-gray-400">
                      Navigate to the "Listings" page from the sidebar and click the "Add Product" button. Fill in your product details, upload photos, set your pricing, and click save to publish your listing.
                    </div>
                  </div>

                  <!-- FAQ Item 2 -->
                  <div class="faq-item">
                    <button onclick="toggleFaq(this)" class="w-full px-6 py-4 flex items-center justify-between text-left">
                      <span class="font-medium text-black dark:text-white">How do I block dates on my calendar?</span>
                      <svg class="faq-icon w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                      </svg>
                    </button>
                    <div class="faq-answer px-6 pb-4 text-gray-600 dark:text-gray-400">
                      Go to your listing's edit page and scroll to the calendar section. Click on dates you want to block - they will be highlighted. You can also use Vacation Mode in the Calendar page to block dates across all listings.
                    </div>
                  </div>

                  <!-- FAQ Item 3 -->
                  <div class="faq-item">
                    <button onclick="toggleFaq(this)" class="w-full px-6 py-4 flex items-center justify-between text-left">
                      <span class="font-medium text-black dark:text-white">When do I receive my payments?</span>
                      <svg class="faq-icon w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                      </svg>
                    </button>
                    <div class="faq-answer px-6 pb-4 text-gray-600 dark:text-gray-400">
                      Payments are processed after the rental period ends. Funds are typically deposited to your account within 3-5 business days. You can track all your payments in the Payments section.
                    </div>
                  </div>

                  <!-- FAQ Item 4 -->
                  <div class="faq-item">
                    <button onclick="toggleFaq(this)" class="w-full px-6 py-4 flex items-center justify-between text-left">
                      <span class="font-medium text-black dark:text-white">How do I handle cancellations?</span>
                      <svg class="faq-icon w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                      </svg>
                    </button>
                    <div class="faq-answer px-6 pb-4 text-gray-600 dark:text-gray-400">
                      Cancellation policies are set in your profile settings. When a customer cancels, the refund will be processed according to your policy. You can view cancellation details in your Orders page.
                    </div>
                  </div>

                  <!-- FAQ Item 5 -->
                  <div class="faq-item">
                    <button onclick="toggleFaq(this)" class="w-full px-6 py-4 flex items-center justify-between text-left">
                      <span class="font-medium text-black dark:text-white">How can I update my profile?</span>
                      <svg class="faq-icon w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                      </svg>
                    </button>
                    <div class="faq-answer px-6 pb-4 text-gray-600 dark:text-gray-400">
                      Go to Settings from the sidebar to update your personal information, business name, contact details, and profile picture. Don't forget to click Save after making changes.
                    </div>
                  </div>
                </div>
              </div>

              <!-- Contact Form -->
              <div id="contact" class="rounded-2xl bg-white shadow-sm border border-gray-100 dark:bg-boxdark dark:border-strokedark animate-in delay-4">
                <div class="p-6 border-b border-gray-100 dark:border-strokedark">
                  <h2 class="text-lg font-semibold text-black dark:text-white">Send us a Message</h2>
                  <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">We typically respond within 24 hours</p>
                </div>
                <form id="contactForm" class="p-6">
                  <!-- Subject -->
                  <div class="mb-5">
                    <label class="mb-2 block text-sm font-medium text-black dark:text-white">
                      Subject
                    </label>
                    <div class="relative">
                      <select
                        id="subject"
                        class="modern-input w-full appearance-none rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 pr-10 text-sm focus:border-primary focus:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white"
                      >
                        <option value="">Select a topic</option>
                        <option value="Order Issues">Order Issues</option>
                        <option value="Account Problem">Account Problem</option>
                        <option value="Payment Question">Payment Question</option>
                        <option value="Technical Issue">Technical Issue</option>
                        <option value="Feature Request">Feature Request</option>
                        <option value="Other">Other</option>
                      </select>
                      <svg class="absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                      </svg>
                    </div>
                  </div>

                  <!-- Message -->
                  <div class="mb-6">
                    <label class="mb-2 block text-sm font-medium text-black dark:text-white">
                      Message
                    </label>
                    <textarea
                      id="message"
                      rows="5"
                      placeholder="Describe your issue or question in detail..."
                      class="modern-input w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 text-sm focus:border-primary focus:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white resize-none"
                    ></textarea>
                  </div>

                  <!-- Submit Button -->
                  <button
                    type="submit"
                    class="btn-primary w-full flex items-center justify-center gap-2 rounded-xl py-3.5 text-white font-semibold"
                  >
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"/>
                    </svg>
                    Send Message
                  </button>
                </form>
              </div>
            </div>

            <!-- Help Resources -->
            <div class="mt-8 rounded-2xl bg-gradient-to-r from-primary to-blue-600 p-8 text-white animate-in delay-4">
              <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-6">
                <div>
                  <h3 class="text-xl font-bold mb-2">Need more help?</h3>
                  <p class="text-white/80">Check out our complete vendor guide for detailed instructions on managing your rentals.</p>
                </div>
                <a href="#" class="inline-flex items-center gap-2 px-6 py-3 bg-white text-primary font-semibold rounded-xl hover:bg-gray-100 transition-colors whitespace-nowrap">
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
                  </svg>
                  View Vendor Guide
                </a>
              </div>
            </div>

          </div>
        </main>
        <!-- ===== Main Content End ===== -->
      </div>
      <!-- ===== Content Area End ===== -->
    </div>
    <!-- ===== Page Wrapper End ===== -->

    <script>
      // FAQ Toggle
      function toggleFaq(button) {
        const item = button.parentElement;
        const answer = item.querySelector('.faq-answer');
        const icon = button.querySelector('.faq-icon');

        // Close all other FAQs
        document.querySelectorAll('.faq-answer.open').forEach(openAnswer => {
          if (openAnswer !== answer) {
            openAnswer.classList.remove('open');
            openAnswer.parentElement.querySelector('.faq-icon').classList.remove('open');
          }
        });

        // Toggle current FAQ
        answer.classList.toggle('open');
        icon.classList.toggle('open');
      }

      // Form submission
      document.getElementById('contactForm').addEventListener('submit', function(event) {
        event.preventDefault();

        const subject = document.getElementById('subject').value;
        const message = document.getElementById('message').value;

        if (!subject || !message) {
          Swal.fire({
            icon: 'error',
            title: 'Missing Information',
            text: 'Please select a subject and enter your message.',
            confirmButtonColor: '#3C50E0'
          });
          return;
        }

        // Show loading
        Swal.fire({
          title: 'Sending...',
          text: 'Please wait while we send your message.',
          allowOutsideClick: false,
          showConfirmButton: false,
          willOpen: () => {
            Swal.showLoading();
          }
        });

        // Simulate sending (replace with actual API call)
        setTimeout(() => {
          Swal.fire({
            icon: 'success',
            title: 'Message Sent!',
            text: 'We\'ll get back to you within 24 hours.',
            confirmButtonColor: '#3C50E0'
          });

          // Reset form
          document.getElementById('contactForm').reset();
        }, 1500);
      });
    </script>

    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js";
      import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-auth.js";

      const firebaseConfig = {
        apiKey: "AIzaSyB-8sarU_q2gdfBSLQAUhNlnbmj3T2o8nA",
        authDomain: "ryntit-b503c.firebaseapp.com",
        databaseURL: "https://ryntit-b503c-default-rtdb.firebaseio.com",
        projectId: "ryntit-b503c",
        storageBucket: "ryntit-b503c.appspot.com",
        messagingSenderId: "908115066071",
        appId: "1:908115066071:web:1de252c17cce4346be0492",
        measurementId: "G-PDBZNLKYKC"
      };

      const app = initializeApp(firebaseConfig);
      const auth = getAuth(app);

      onAuthStateChanged(auth, (user) => {
        if (!user) {
          window.location.href = 'login.html';
        }
      });
    </script>
  </body>
</html>
